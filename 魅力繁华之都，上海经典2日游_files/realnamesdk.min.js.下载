var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var r;if(e)for(r=0;r<e.length&&(!e[r]||!t(e[r],r,e));r+=1);}function eachReverse(e,t){var r;if(e)for(r=e.length-1;r>-1&&(!e[r]||!t(e[r],r,e));r-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break}function mixin(e,t,r,n){return t&&eachProp(t,function(t,i){!r&&hasProp(e,i)||(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[i]=t:(e[i]||(e[i]={}),mixin(e[i],t,r,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,r,n){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=n,r&&(i.originalError=r),i}function newContext(e){function t(e,t,r){var n,i,o,a,s,c,u,l,d,p,f=t&&t.split("/"),m=f,g=w.map,h=g&&g["*"];if(e&&"."===e.charAt(0)&&(t?(m=f.slice(0,f.length-1),c=(e=e.split("/")).length-1,w.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,"")),function(e){var t,r,n=e.length;for(t=0;t<n;t++)if("."===(r=e[t]))e.splice(t,1),t-=1;else if(".."===r){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}(e=m.concat(e)),e=e.join("/")):0===e.indexOf("./")&&(e=e.substring(2))),r&&g&&(f||h)){i=e.split("/");e:for(o=i.length;o>0;o-=1){if(s=i.slice(0,o).join("/"),f)for(a=f.length;a>0;a-=1)if((n=getOwn(g,f.slice(0,a).join("/")))&&(n=getOwn(n,s))){u=n,l=o;break e}!d&&h&&getOwn(h,s)&&(d=getOwn(h,s),p=o)}!u&&d&&(u=d,l=p),u&&(i.splice(0,l,u),e=i.join("/"))}return getOwn(w.pkgs,e)||e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===b.contextName)return t.parentNode.removeChild(t),!0})}function n(e){var t=getOwn(w.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),b.require.undef(e),b.require([e]),!0}function i(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function o(e,r,n,o){var a,s,c,u,l=null,d=r?r.name:null,p=e,f=!0,m="";return e||(f=!1,e="_@r"+(T+=1)),l=(u=i(e))[0],e=u[1],l&&(l=t(l,d,o),s=getOwn(U,l)),e&&(l?m=s&&s.normalize?s.normalize(e,function(e){return t(e,d,o)}):t(e,d,o):(l=(u=i(m=t(e,d,o)))[0],m=u[1],n=!0,a=b.nameToUrl(m))),{prefix:l,name:m,parentMap:r,unnormalized:!!(c=!l||s||n?"":"_unnormalized"+(E+=1)),url:a,originalName:p,isDefine:f,id:(l?l+"!"+m:m)+c}}function a(e){var t=e.id,r=getOwn(x,t);return r||(r=x[t]=new b.Module(e)),r}function s(e,t,r){var n=e.id,i=getOwn(x,n);!hasProp(U,n)||i&&!i.defineEmitComplete?(i=a(e)).error&&"error"===t?r(i.error):i.on(t,r):"defined"===t&&r(U[n])}function c(e,t){var r=e.requireModules,n=!1;t?t(e):(each(r,function(t){var r=getOwn(x,t);r&&(r.error=e,r.events.error&&(n=!0,r.emit("error",e)))}),n||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(M,[M.length,0].concat(globalDefQueue)),globalDefQueue=[])}function l(e){delete x[e],delete S[e]}function d(){var e,t,i=1e3*w.waitSeconds,o=i&&b.startTime+i<(new Date).getTime(),a=[],s=[],u=!1,l=!0;if(!h){if(h=!0,eachProp(S,function(e){var i=e.map,c=i.id;if(e.enabled&&(i.isDefine||s.push(e),!e.error))if(!e.inited&&o)n(c)?(t=!0,u=!0):(a.push(c),r(c));else if(!e.inited&&e.fetched&&i.isDefine&&(u=!0,!i.prefix))return l=!1}),o&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=b.contextName,c(e);l&&each(s,function(e){!function t(e,r,n){var i=e.map.id;e.error?e.emit("error",e.error):(r[i]=!0,each(e.depMaps,function(i,o){var a=i.id,s=getOwn(x,a);!s||e.depMatched[o]||n[a]||(getOwn(r,a)?(e.defineDep(o,U[a]),e.check()):t(s,r,n))}),n[i]=!0)}(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||C||(C=setTimeout(function(){C=0,d()},50)),h=!1}}function p(e){hasProp(U,e[0])||a(o(e[0],null,!0)).init(e[1],e[2])}function f(e,t,r,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(r,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return f(t,b.onScriptLoad,"load","onreadystatechange"),f(t,b.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(u();M.length;){if(null===(e=M.shift())[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}}var h,y,b,v,C,w={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},x={},S={},D={},M=[],U={},k={},q={},T=1,E=1;return v={require:function(e){return e.require?e.require:e.require=b.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?U[e.map.id]=e.exports:e.exports=U[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(w.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(y=function(e){this.events=getOwn(D,e.id)||{},this.map=e,this.shim=getOwn(w.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,r,n){n=n||{},this.inited||(this.factory=t,r?this.on("error",r):this.events.error&&(r=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=r,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;k[e]||(k[e]=!0,b.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,r=this.map.id,n=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=b.execCb(r,o,n,i)}catch(t){e=t}else i=b.execCb(r,o,n,i);if(this.map.isDefine&&void 0===i&&((t=this.module)?i=t.exports:this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(U[r]=i,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),l(r),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,r=e.id,n=o(e.prefix);this.depMaps.push(n),s(n,"defined",bind(this,function(n){var i,u,d,p=getOwn(q,this.map.id),f=this.map.name,m=this.map.parentMap?this.map.parentMap.name:null,g=b.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(f=n.normalize(f,function(e){return t(e,m,!0)})||""),s(u=o(e.prefix+"!"+f,this.map.parentMap),"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((d=getOwn(x,u.id))&&(this.depMaps.push(u),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):p?(this.map.url=b.nameToUrl(p),void this.load()):((i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[r],eachProp(x,function(e){0===e.map.id.indexOf(r+"_unnormalized")&&l(e.map.id)}),c(e)}),i.fromText=bind(this,function(t,n){var s=e.name,u=o(s),l=useInteractive;n&&(t=n),l&&(useInteractive=!1),a(u),hasProp(w.config,r)&&(w.config[s]=w.config[r]);try{req.exec(t)}catch(e){return c(makeError("fromtexteval","fromText eval for "+r+" failed: "+e,e,[r]))}l&&(useInteractive=!0),this.depMaps.push(u),b.completeLoad(s),g([s],i)}),void n.load(e.name,g,i,w))})),b.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var r,n,i;if("string"==typeof e){if(e=o(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(v,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,s(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&s(e,"error",bind(this,this.errback))}r=e.id,n=x[r],hasProp(v,r)||!n||n.enabled||b.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(x,e.id);t&&!t.enabled&&b.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var r=this.events[e];r||(r=this.events[e]=[]),r.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(b={config:w,contextName:e,registry:x,defined:U,urlFetched:k,defQueue:M,Module:y,makeModuleMap:o,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=w.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(w[t]||(w[t]={}),mixin(w[t],e,!0,!0)):w[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(q[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,r){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=b.makeShimExports(e)),t[r]=e}),w.shim=t),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(w.paths[t]=e.location),w.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(x,function(e,t){e.inited||e.map.unnormalized||(e.map=o(t))}),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},makeShimExports:function(e){return function(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}},makeRequire:function(n,i){function s(t,r,u){var l,p;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof t?isFunction(r)?c(makeError("requireargs","Invalid require call"),u):n&&hasProp(v,t)?v[t](x[n.id]):req.get?req.get(b,t,n,s):(l=o(t,n,!1,!0).id,hasProp(U,l)?U[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(n?"":". Use require([])")))):(g(),b.nextTick(function(){g(),(p=a(o(null,n))).skipMap=i.skipMap,p.init(t,r,u,{enabled:!0}),d()}),s)}return i=i||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0];return-1!==i&&(!("."===o||".."===o)||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),b.nameToUrl(t(e,n&&n.id,!0),r,!0)},defined:function(e){return hasProp(U,o(e,n,!1,!0).id)},specified:function(e){return e=o(e,n,!1,!0).id,hasProp(U,e)||hasProp(x,e)}}),n||(s.undef=function(e){u();var t=o(e,n,!0),i=getOwn(x,e);r(e),delete U[e],delete k[t.url],delete D[e],eachReverse(M,function(t,r){t[0]===e&&M.splice(r,1)}),i&&(i.events.defined&&(D[e]=i.events),l(e))}),s},enable:function(e){getOwn(x,e.id)&&a(e).enable()},completeLoad:function(e){var t,r,i,o=getOwn(w.shim,e)||{},a=o.exports;for(u();M.length;){if(null===(r=M.shift())[0]){if(r[0]=e,t)break;t=!0}else r[0]===e&&(t=!0);p(r)}if(i=getOwn(x,e),!t&&!hasProp(U,e)&&i&&!i.inited){if(!(!w.enforceDefine||a&&getGlobal(a)))return n(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));p([e,o.deps||[],o.exportsFn])}d()},nameToUrl:function(e,t,r){var n,i,o,a,s,c,u=getOwn(w.pkgs,e);if(u&&(e=u),c=getOwn(q,e))return b.nameToUrl(c,t,r);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(n=w.paths,o=(i=e.split("/")).length;o>0;o-=1)if(s=getOwn(n,i.slice(0,o).join("/"))){isArray(s)&&(s=s[0]),i.splice(0,o,s);break}a=i.join("/"),a=("/"===(a+=t||(/^data\:|\?/.test(a)||r?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":w.baseUrl)+a}return w.urlArgs?a+(-1===a.indexOf("?")?"?":"&")+w.urlArgs:a},load:function(e,t){req.load(b,e,t)},execCb:function(e,t,r,n){return t.apply(n,r)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);b.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);if(!n(t.id))return c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}}).require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,r,n){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=r,r=n):e=[]),o&&o.context&&(a=o.context),(i=getOwn(contexts,a))||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,r)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,r){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,r){var n,i=e&&e.config||{};if(isBrowser)return(n=req.createNode(i,t,r)).setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=r,currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{importScripts(r),e.completeLoad(t)}catch(n){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+r,n,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,r){var n,i;"string"!=typeof e&&(r=t,t=e,e=null),isArray(t)||(r=t,t=null),!t&&isFunction(r)&&(t=[],r.length&&(r.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,r){t.push(r)}),t=(1===r.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(e||(e=n.getAttribute("data-requiremodule")),i=contexts[n.getAttribute("data-requirecontext")]),(i?i.defQueue:globalDefQueue).push([e,t,r])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),CUserSDK="undefined"!=typeof CUserSDK?CUserSDK:{version:"1.0"},CUserSDK.accessConfig={language:"zh",sourceid:"",timeout:3e4},CUserSDK.messageConfig={emailIsNullMsg:{returncode:10101,message:"邮箱不能为空"},emailIsNotValidMsg:{returncode:10102,message:"邮箱格式不合法"},mobileIsNullMsg:{returncode:10103,message:"手机不能为空"},mobileIsNotValidMsg:{returncode:10104,message:"手机格式不合法"},pwdIsNullMsg:{returncode:10105,message:"密码不能为空"},pwdIsNotValidMsg:{returncode:10106,message:"密码格式不合法"},pwdIsSimpleMsg:{returncode:10107,message:"密码过于简单，有被盗风险"},loginNameIsNullMsg:{returncode:10108,message:"登录名不能为空"},dynamicPwdIsNullMsg:{returncode:10109,message:"动态码不能为空"},verifyCodeIsNullMsg:{returncode:10111,message:"验证码不能为空"},mobileNotRegisteredMsg:{returncode:10110,message:"手机号未注册"},mobileRegisteredMsg:{returncode:10112,message:"手机号已注册"},emailNotRegisteredMsg:{returncode:10113,message:"邮箱未注册"},emailRegisteredMsg:{returncode:10114,message:"邮箱已注册"},oldPwdIsNullMsg:{returncode:10115,message:"旧密码为空"},pwdNotMatchMsg:{returncode:10116,message:"新密码与确认密码不一致"},pwdMatchMsg:{returncode:10117,message:"新密码不能与旧密码相同"},gatewayRequestErrorMsg:{returncode:-1,message:"请求gateway失败"},successMsg:{returncode:0,message:"成功"},writeLoginSessionFailMsg:{returncode:-2,message:"写登录态失败"}},CUserSDK.sdkconfig={dynamicPwdTicketType:"10045",bindMobileTicketType:"10043",bindEmailTicketType:"10038",errorCode:"1",businessSite:{rebindMobileOnline:"crm_resetmobile_online",sendMessageH5:"crm_sms_h5",rebindEmailOnline:"crm_resetmail_online",ibuordersearch:"crm_ibumailcheckorder_online",ibuh5ordersearch:"ibu_mailgetorder_h5",realnameH5:"crm_verificationsms_h5",h5login:"crm_primelogin_h5",h5resetpwd:"crm_getpw_h5",h5primesms:"crm_primesms_h5",ibubindemailonline:"crm_ibubindmail_online"},sendAndValidateCodeByAuthAccessCode:"1AFB25DAC7A8B11E",validateEmailCodeByAuthStrategyCode:"D9F433148D021DB1",validateMobileCodeByAuthStrategyCode:"5821DB3434B1FA43"},CUserSDK.loginConfig={sceneType:{commonLogin:"S000",commonLoginMask:"S004",thirdPartLogin:"S008"},taskType:{bindMobile:"T001",modifyPassword:"T003"},subType:{enforce:"ST001",noenforce:"ST002"},loginType:{commonLogin:"commonLogin",dynamicPwdLogin:"dynamicPwdLogin",mobileTokenLogin:"mobileTokenLogin",thirdPartLogin:"thirdPartLogin"},userValidateStrategyCode:"63A70EA9BB38F5D",uuidUserValidateStrategyCode:"698D04A841768C87",dynamicPwdTicketType:"10045",bindMobileTicketType:"10043",unbindMobileTicketType:"10044",bindEmailTicketType:"",unbindEmailTicketType:"",errorCode:1,modifyPwdAccessCode:"83A7D31D8875DB5A",modifyPwdStrategyCode:"76A88693875C6E0A",pwdTokenModifyPwdStrategyCode:"9BDD108D18133FCD"},define("basebizUtilDomain",["basebizUtilUrl"],function(basebizUtilUrl){var rootDomain={dev:"qa.nt.ctripcorp.com",fat:"qa.nt.ctripcorp.com",uat:"qa.nt.ctripcorp.com",pro:"ctrip.com"},accountDomain={dev:"https://accounts.fat466.qa.nt.ctripcorp.com/",fat:"https://accounts.fat466.qa.nt.ctripcorp.com/",uat:"https://accounts.uat.qa.nt.ctripcorp.com/",uatqa:"https://accounts.ctrip.uat.qa.nt.ctripcorp.com/",pro:"https://accounts.ctrip.com/"},passportDomain={local:"https://passport.fat466.qa.nt.ctripcorp.com",fat:"https://passport.fat466.qa.nt.ctripcorp.com",uat:"https://passport.ctrip.uat.qa.nt.ctripcorp.com",uatqa:"https://passport.ctrip.uat.qa.nt.ctripcorp.com",pro:"https://passport.ctrip.com"},myctripUrl={local:"http://my.fat466.qa.nt.ctripcorp.com/home/myinfo.aspx",fat:"http://my.fat466.qa.nt.ctripcorp.com/home/myinfo.aspx",uat:"http://my.uat.qa.nt.ctripcorp.com/home/myinfo.aspx",uatqa:"http://my.uat.qa.nt.ctripcorp.com/home/myinfo.aspx",pro:"http://my.ctrip.com/home/myinfo.aspx"},gatewayServiceUrl={checkphonecode:"gateway/api/soa2/11448/checkPhoneCode",getuidbymobiletoken:"gateway/api/soa2/13191/getUidByMobileToken"},realNameUrl="H5login/realname",loginUrl="H5login/Index",domainUtil={getEnv:function(){var e=window.location.host;return e.indexOf("localhost")>-1||e.indexOf("127.0.0.1")>-1||e.indexOf("dev")>-1?"dev":e.indexOf("fat")>-1||e.indexOf("fws")>-1?"fat":e.indexOf("uat")>-1?"uat":"pro"},getPassPortDomain:function(){return passportDomain[this.getEnv()]},getDomainRoot:function(){return rootDomain[this.getEnv()]},getAccountDomain:function(){return accountDomain[this.getEnv()]},getRealNameUrl:function(){return this.getAccountDomain()+realNameUrl},getLoginUrl:function(){return this.getAccountDomain()+loginUrl},getMyCtripUrl:function(){return myctripUrl[this.getEnv()]},isUrl:function(e){return/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\’:+!]*([^<>\"\"])*$/.test(e)},parseUrl:function(e){var t=/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},getSelfDomain:function(){return this.parseUrl(window.location.href).domain},getBackDomain:function(e){return this.parseUrl(e).domain},getBackUrl:function(){var url=basebizUtilUrl.getQueryString("backurl");if(void 0!==url&&null!==url){var backDomain=this.getBackDomain(url);if(backDomain){var allowreg=jQuery("#AllowDomain").val();if(!allowreg)return url;var reg=eval(allowreg);if(reg.test(backDomain))return url}}return this.getMyCtripUrl()},getAccountGateWayServiceUrl:function(e){return gatewayServiceUrl[e]}};return domainUtil}),require.config({paths:{}}),require(["mobileValidateBiz","realNameBiz","basebizUtilDomain"],function(e,t,r){CRealName.mobileValidateBiz=e,CRealName.realNameBiz=t,CRealName.domainUtil=r;try{window.sdkVersion="0.0.60",window.sdkUrl="realNameSDK",window.accountSceneType="realName"}catch(e){}}),define("basebizUtilUrl",[],function(){return{getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?unescape(r[2]):null},getUrlByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(t);return null!=r?r[2]:null},getenv:function(){var e=location.host;return e.match(/^(localhost|accounts.dev.sh.ctriptravel.com|172\.16|127\.0)/i)?"local":e.match(/^.*\.fat\d*\.qa\.nt\.ctripcorp\.com|^210\.13\.100\.191/i)?"fat":e.match(/^.*\.uat\.qa\.nt\.ctripcorp\.com/i)?"uat":e.match(/^.*\.uat\.ctripqa\.com/i)?"uatqa":"pro"}}}),define("basebizUtilString",[],function(){return{trimStart0:function(e){return e&&e.length>0?e.replace("^0+(?!$)",""):""},trim:function(e){return e&&e.length>0?e.replace(/(^\s*)|(\s*$)/g,""):""},convertExt:function(e){if(e){var t=[],r=0;for(var n in e)t[r]={key:n,value:e[n]},r++;return t}},filterParam:function(e){var t={};for(var r in e){var n=e[r];if(this.isString(n))n&&n.length<200?t[r]=n:t[r]="";else if(this.isArray(n)){for(var i=[],o=0;o<n.length;o++)this.isObject(n[o])?i[o]=this.filterParam(n[o]):i[o]=n[o];t[r]=i}else this.isObject(n)?t[r]=this.filterParam(n):t[r]=n}return t},isObject:function(e){return"[object Object]"==Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isString:function(e){return"[object String]"==Object.prototype.toString.call(e)}}}),define("codeValidateModel",["baseModel"],function(e){return{sendCodeByAuth:function(t,r){var n={};n.Data={accessCode:t.accessCode,strategyCode:t.strategyCode,context:t.ext?t.ext:{}};e.sendgatewaydata(CUserSDK.ApiUrlConfig.sendCodeByAuthUrl,n,!0,function(e){r&&r(e)},function(e){r&&r(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"sendMobileCode",allowRecordRequest:"T"})},validateCodeByAuth:function(t,r){var n={};n.Data={accessCode:t.accessCode,strategyCode:t.strategyCode,code:t.code,context:t.ext?t.ext:{}};e.sendgatewaydata(CUserSDK.ApiUrlConfig.validateCodeByAuthUrl,n,!0,function(e){r&&r(e)},function(e){r&&r(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"verifyMobileCode",allowRecordRequest:"T"})}}}),define("baseModel",["baseAjax","basebizUtilMetric"],function($,utilMetric){function getenv(){var e=window.location.host;return e.indexOf("localhost")>-1||e.indexOf("127.0.0.1")>-1||e.indexOf("dev")>-1?"local":e.indexOf("fat")>-1||e.indexOf("fws")>-1?"fat":e.indexOf("uat")>-1?"uat":"pro"}function getbaseurl(e){var t=getenv();if(void 0!==e&&"trip"==e)return"local"==t?"https://www.fat1.qa.nt.tripcorp.com/":"https://"+window.location.host+"/";if(CLogin&&CLogin.SsoproxyDomain&&CLogin.SsoproxyDomain.indexOf("http")>-1)return CLogin.SsoproxyDomain+"/";var r={local:"https://accounts.fat466.qa.nt.ctripcorp.com/",fat:"https://accounts.fat466.qa.nt.ctripcorp.com/",uat:"https://accounts.ctrip.uat.qa.nt.ctripcorp.com/",uatqa:"https://accounts.ctrip.uat.qa.nt.ctripcorp.com/",pro:"https://accounts.ctrip.com/"}[t];return host.indexOf("fat.ctripqa")>-1&&(r="https://www.fat.ctripqa.com/"),host.indexOf("uat.ctripqa")>-1&&(r="https://gateway-uat.ctripqa.com/"),r}function isTrip(){var e=window.location.host;return!(!e||!(e.toLowerCase().indexOf(".trip.com")>0||e.toLowerCase().indexOf(".tripcorp.com")>0))}function getgatewaybaseurl(e){var t=getenv();if(isTrip())return"local"==t?"https://www.fat1.qa.nt.tripcorp.com/":"https://"+window.location.host+"/";if("undefined"!=typeof CLogin&&CLogin.GatewayDomain&&CLogin.GatewayDomain.indexOf("http")>-1)return CLogin.GatewayDomain+"/";var r={local:"https://passport.fat466.qa.nt.ctripcorp.com/",fat:"https://passport.fat466.qa.nt.ctripcorp.com/",uat:"https://passport.ctrip.uat.qa.nt.ctripcorp.com/",uatqa:"https://passport.ctrip.uat.qa.nt.ctripcorp.com/",pro:"https://passport.ctrip.com/"}[t];return host.indexOf("fat.ctripqa")>-1&&(r="https://www.fat.ctripqa.com/"),host.indexOf("uat.ctripqa")>-1&&(r="https://gateway-uat.ctripqa.com/"),r}function ubtTraceNetworkError(e,t){e.costTime=t,e.returnCode="-1",e.message="网络异常，请求失败！",ubtTrace(e)}function ubtTrace(e){try{e.siteGroup="ctrip",e.locale="zh_cn",e.ubtType="network",e.platform="H5",window&&window.CLogin&&window.CLogin.Secretkey&&(e.secretKey=window.CLogin.Secretkey),window&&window.CLogin&&window.CLogin.sceneType&&(e.sceneType=window.CLogin.sceneType),!e.sdkUrl&&window&&window.sdkUrl&&(e.sdkUrl=window.sdkUrl),!e.sdkVersion&&window&&window.sdkVersion&&(e.sdkVersion=window.sdkVersion),!e.sceneType&&window&&window.accountSceneType&&(e.sceneType=window.accountSceneType),utilMetric().trace("106064",e)}catch(e){}}var host=location.host,baseModel={senddata:function(e,t,r,n,i,o){o||(o={}),t||(t={});var a;a=e&&e.indexOf("http")>-1?e:getbaseurl()+e,""!==i&&void 0!==i&&null!==i||(i=!0),t.Secretkey=CLogin.Secretkey;var s=Date.now();o.requestUrl=a,o&&o.allowRecordRequest&&(o.requestBody=JSON.stringify(t)),$.ajax({url:a,data:t,type:"post",timeout:CUserSDK.accessConfig.timeout,xhrFields:{withCredentials:!0},dataType:"json",async:i,contentType:"application/x-www-form-urlencoded",success:function(e){o.costTime=Date.now()-s,o.responBody=JSON.stringify(e),ubtTrace(o),r(e)},error:function(e){try{var t={error:JSON.stringify(e)};o.netError=t,ubtTraceNetworkError(o,Date.now()-s)}catch(e){}n(e)}})},senddatawithoutjsonp:function(e,t,r,n,i){i||(i={}),t||(t={});var o;o=e&&e.indexOf("http")>-1?e:getbaseurl()+e,t.Secretkey=CLogin.Secretkey;var a=Date.now();i.requestUrl=o,i&&i.allowRecordRequest&&(i.requestBody=JSON.stringify(t)),$.ajax({url:o,data:t,type:"post",timeout:CUserSDK.accessConfig.timeout,xhrFields:{withCredentials:!0},dataType:"json",async:!0,contentType:"application/x-www-form-urlencoded",success:function(e){i.costTime=Date.now()-a,i.responBody=JSON.stringify(e),ubtTrace(i),r(e)},error:function(e){try{var t={error:JSON.stringify(e)};i.netError=t,ubtTraceNetworkError(i,Date.now()-a)}catch(e){}n(e)}})},sendsyncdata:function(e,t,r,n,i){i||(i={});var o=Date.now();i.requestUrl=getbaseurl()+e,i&&i.allowRecordRequest&&(i.requestBody=JSON.stringify(t)),$.ajax({url:getbaseurl()+e,data:t,type:"post",dataType:"json",contentType:"application/json; charset=utf-8",async:!1,timeout:CUserSDK.accessConfig.timeout,success:function(e){i.costTime=Date.now()-o,i.responBody=JSON.stringify(e),ubtTrace(i),r(e)},error:function(e){try{var t={error:JSON.stringify(e)};i.netError=t,ubtTraceNetworkError(i,Date.now()-o)}catch(e){}n(e)}})},sendgatewaydata:function(url,params,async,success,fail,ubtParams){var successHandler=success||function(e){},failHandler=fail||function(e){};ubtParams||(ubtParams={});var start=Date.now();ubtParams.requestUrl=getgatewaybaseurl()+url;var successcallback=function(data){if(data||failHandler.apply(this,[eval(data)]),0==data.ReturnCode){var result=JSON.parse(data.Result);result||failHandler.apply(this,data),ubtParams.costTime=Date.now()-start,ubtParams.responBody=JSON.stringify(data);var retCode="",message="";""!==result.ReturnCode&&void 0!==result.ReturnCode&&null!==result.ReturnCode?(retCode=parseInt(result.ReturnCode),message=result.Message):""!==result.returnCode&&void 0!==result.returnCode&&null!==result.returnCode?(retCode=parseInt(result.returnCode),message=result.message):result.resultStatus&&(retCode=parseInt(result.resultStatus.returnCode),message=result.resultStatus.message),result.returncode=retCode,result.message=message,ubtParams.logTraceId=data&&data.RequestId,ubtParams.returnCode=result.returncode,ubtParams.message=result.message,ubtTrace(ubtParams),successHandler.apply(this,[eval(result)])}else ubtParams.returnCode=data.ReturnCode,ubtParams.message=data.Message,ubtTrace(ubtParams),failHandler.apply(this,[eval(data)])},errorcallback=function(data){ubtTraceNetworkError(ubtParams),failHandler.apply(this,[eval(data)])};$.ajax({url:getgatewaybaseurl()+url,data:JSON.stringify(params),type:"post",async:async,xhrFields:{withCredentials:!0},dataType:"json",contentType:"application/json; charset=utf-8",timeout:CUserSDK.accessConfig.timeout,success:successcallback,error:errorcallback,beforeSend:function(e){e.setRequestHeader("contentType","application/json; charset=utf-8")}})}};return baseModel}),define("baseAjax",[],function(){function e(e){return null==e?String(e):g[h.call(e)]||"object"}function t(t){return"function"==e(t)}function r(t){return"object"==e(t)}function n(e){return r(e)&&!function(e){return null!=e&&e==e.window}(e)&&Object.getPrototypeOf(e)==Object.prototype}function i(e,t,r,n){if(e.global)return function(e,t,r){var n=p.Event(t);return n._args=r,e.dispatchEvent(n),!n.isDefaultPrevented()}(t||M,r,n)}function o(e){e.global&&0==p.active++&&i(e,null,"ajaxStart")}function a(e,t){var r=t.context;if(!1===t.beforeSend.call(r,e,t)||!1===i(t,r,"ajaxBeforeSend",[e,t]))return!1;i(t,r,"ajaxSend",[e,t])}function s(e,t,r,n){var o=r.context;r.success.call(o,e,"success",t),n&&n.resolveWith(o,[e,"success",t]),i(r,o,"ajaxSuccess",[t,r,e]),u("success",t,r)}function c(e,t,r,n,o){var a=n.context;n.error.call(a,r,t,e),o&&o.rejectWith(a,[r,t,e]),i(n,a,"ajaxError",[r,n,e||t]),u(t,r,n)}function u(e,t,r){var n=r.context;r.complete.call(n,t,e),i(r,n,"ajaxComplete",[t,r]),function(e){e.global&&!--p.active&&i(e,null,"ajaxStop")}(r)}function l(){}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}for(var p={},f=Array.isArray||function(e){return e instanceof Array},m=[].slice,g={},h=g.toString,y="Boolean Number String Function Array Date RegExp Object Error".split(" "),b=0;b<y.length;b++)S=y[b],g["[object "+S+"]"]=S.toLowerCase();p.each=function(e,t){var r,n;if(function(e){return"number"==typeof e.length}(e)){for(r=0;r<e.length;r++)if(!1===t.call(e[r],r,e[r]))return e}else for(n in e)if(!1===t.call(e[n],n,e[n]))return e;return e};var v=function(){return!0},C=function(){return!1},w={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};p.Event=function(e,t){"string"==typeof obj||(e=(t=e).type);var r=M.createEvent("Events"),n=!0;if(t)for(var i in t)"bubbles"==i?n=!!t[i]:r[i]=t[i];return r.initEvent(e,n,!0),function(e,t){if(t||!e.isDefaultPrevented){for(var r in t||(t=e),w){var n=w[r],i=t[r];e[r]=function(){return this[n]=v,i&&i.apply(t,arguments)},e[n]=C}(void 0!==t.defaultPrevented?t.defaultPrevented:"returnValue"in t?!1===t.returnValue:t.getPreventDefault&&t.getPreventDefault())&&(e.isDefaultPrevented=v)}return e}(r)},p.param=function(e,t){var r=[];return r.add=function(e,t){this.push(escape(e)+"="+escape(t))},function i(e,t,r,o){var a,s=f(t),c=n(t);p.each(t,function(t,n){a=p.type(n),o&&(t=r?o:o+"["+(c||"object"==a||"array"==a?t:"")+"]"),!o&&s?e.add(n.name,n.value):"array"==a||!r&&"object"==a?i(e,n,r,t):e.add(t,n)})}(r,e,t),r.join("&").replace(/%20/g,"+")};var x,S,D=0,M=window.document,U=/^(?:text|application)\/javascript/i,k=/^(?:text|application)\/xml/i,q="application/json",T="text/html",E=/^\s*$/;return p.ajaxJSONP=function(e,r){function n(n,a){clearTimeout(o),M.getElementsByTagName("head")[0].removeChild(d),"error"!=n.type&&i?s(i[0],m,e,r):c(null,a||"error",m,e,r),window[l]=f,i&&t(f)&&f(i[0]),f=i=void 0}if(!("type"in e))return p.ajax(e);var i,o,u=e.jsonpCallback,l=(t(u)?u():u)||"jsonp"+ ++D,d=M.createElement("script"),f=window[l],m={abort:function(e){}};return r&&r.promise(m),d.onload=n,d.onerror=n,!1===a(m,e)?m:(window[l]=function(){i=arguments},d.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),M.head.appendChild(d),e.timeout>0&&(o=setTimeout(function(){},e.timeout)),m)},p.active=0,p.type=e,p.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:q,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},p.extend=function(e){var t,r=m.call(arguments,1);return"boolean"==typeof e&&(t=e,e=r.shift()),r.forEach(function(r){!function i(e,t,r){for(var o in t)r&&(n(t[o])||f(t[o]))?(n(t[o])&&!n(e[o])&&(e[o]={}),f(t[o])&&!f(e[o])&&(e[o]=[]),i(e[o],t[o],r)):void 0!==t[o]&&(e[o]=t[o])}(e,r,t)}),e},p.ajax=function(e){var t=p.extend({},e||{}),r=p.Deferred&&p.Deferred();for(x in p.ajaxSettings)void 0===t[x]&&(t[x]=p.ajaxSettings[x]);o(t),t.crossDomain||(t.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(t.url)&&RegExp.$2!=window.location.host),t.url||(t.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=p.type(e.data)&&(e.data=p.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=d(e.url,e.data),e.data=void 0)}(t);var n=t.dataType,i=/\?.+=\?/.test(t.url);if(i&&(n="jsonp"),!1!==t.cache&&(e&&!0===e.cache||"script"!=n&&"jsonp"!=n)||(t.url=d(t.url,"_="+Date.now())),"jsonp"==n)return i||(t.url=d(t.url,t.jsonp?t.jsonp+"=?":!1===t.jsonp?"":"callback=?")),p.ajaxJSONP(t,r);var u,f=t.accepts[n],m={},g=function(e,t){m[e.toLowerCase()]=[e,t]},h=/^([\w-]+:)\/\//.test(t.url)?RegExp.$1:window.location.protocol,y=t.xhr(),b=y.setRequestHeader;if(r&&r.promise(y),t.crossDomain||g("X-Requested-With","XMLHttpRequest"),g("Accept",f||"*/*"),(f=t.mimeType||f)&&(f.indexOf(",")>-1&&(f=f.split(",",2)[0]),y.overrideMimeType&&y.overrideMimeType(f)),(t.contentType||!1!==t.contentType&&t.data&&"GET"!=t.type.toUpperCase())&&g("Content-Type",t.contentType||"application/x-www-form-urlencoded"),t.headers)for(S in t.headers)g(S,t.headers[S]);if(y.setRequestHeader=g,y.onreadystatechange=function(){if(4==y.readyState){y.onreadystatechange=l,clearTimeout(u);var e,i=!1;if(y.status>=200&&y.status<300||304==y.status||0==y.status&&"file:"==h){n=n||function(e){return e&&(e=e.split(";",2)[0]),e&&(e==T?"html":e==q?"json":U.test(e)?"script":k.test(e)&&"xml")||"text"}(t.mimeType||y.getResponseHeader("content-type")),e=y.responseText;try{"script"==n?(0,eval)(e):"xml"==n?e=y.responseXML:"json"==n&&(e=E.test(e)?null:JSON.parse(e))}catch(e){i=e}i?c(i,"parsererror",y,t,r):s(e,y,t,r)}else c(y.statusText||null,y.status?"error":"abort",y,t,r)}},!1===a(y,t))return y.abort(),c(null,"abort",y,t,r),y;var v=!("async"in t)||t.async;if(y.open(t.type,t.url,v,t.username,t.password),t.xhrFields)for(S in t.xhrFields)y[S]=t.xhrFields[S];for(S in m)b.apply(y,m[S]);return t.timeout>0&&(u=setTimeout(function(){y.onreadystatechange=l,y.abort(),c(null,"timeout",y,t,r)},t.timeout)),y.send(t.data?t.data:null),y},p}),define("mobileValidateBiz",["mobileValidateModel","codeValidateModel","basebizUtilString"],function(e,t,r){return{sendMessageCode:function(t,n,i,o,a,s,c,u){var l=r.trim(t),d=r.trim(n);if(l&&d)if(l=r.trimStart0(l),(d=r.trimStart0(d)).isMobile(l)){var p={countryCode:t,phoneNumber:n,sceneCode:i,rmsToken:s,safeToken:o,sliderVersion:a,ext:u};e.sendMessageCode(p,c)}else c&&c(CUserSDK.messageConfig.mobileIsNotValidMsg);else c&&c(CUserSDK.messageConfig.mobileIsNullMsg)},sendCodeByMobile:function(t,n){var i=r.trim(t.countryCode),o=r.trim(t.phoneNumber);return i&&o?(i=r.trimStart0(i),(o=r.trimStart0(o)).isMobile(i)?(t.countryCode=i,t.phoneNumber=o,void e.sendMessageCode(t,n)):void(n&&n(CUserSDK.messageConfig.mobileIsNotValidMsg))):void(n&&n(CUserSDK.messageConfig.mobileIsNullMsg))},validateMobileCode:function(t,n,i,o,a){var s=r.trim(t),c=r.trim(n);return s&&c?(s=r.trimStart0(s),(c=r.trimStart0(c)).isMobile(s)?void e.validateMobileCode(s,c,i,o,a):void(a&&a(CUserSDK.messageConfig.mobileIsNotValidMsg))):void(a&&a(CUserSDK.messageConfig.mobileIsNullMsg))},checkPhoneCode:function(t,n){var i=r.trim(t.countryCode),o=r.trim(t.phoneNumber);if(i&&o)if(i=r.trimStart0(i),(o=r.trimStart0(o)).isMobile(i)){t.countryCode=i,t.phoneNumber=o;var a=[{key:"URL",value:window.location.href},{key:"referer",value:document.referrer}];t.ext?t.ext.push.apply(t.ext,a):t.ext=a;var s={},c=function(e){s.UID="",e&&0==e.returncode&&(s.UID=e.uid),n&&n(s)};e.checkPhoneCode(t,function(r){r&&0!=r.returncode&&(s=r),r&&0==r.returncode?((s=r).Token=r.token,e.getUIDByMobileToken(t.messageCode,r.token,c)):n&&n(s)})}else n&&n(CUserSDK.messageConfig.mobileIsNotValidMsg);else n&&n(CUserSDK.messageConfig.mobileIsNullMsg)},getUIDByMobileToken:function(t,r,n){e.getUIDByMobileToken(t,r,n)},sendMobileCodeByLoginName:function(t,n){if(t){var i=r.trim(t.loginName);if(!i||0==i.length)return void(n&&n(CUserSDK.messageConfig.loginNameIsNullMsg));t.loginName=i,e.sendMobileCodeByLoginName(t,n)}},sendMobileCodeByAuth:function(e,r){e&&t.sendCodeByAuth(e,r)},validateMobileCodeByAuth:function(e,n){if(e){var i=r.trim(e.code);if(!i||0==i.length)return void(n&&n(CUserSDK.messageConfig.verifyCodeIsNullMsg));e.code=i,t.validateCodeByAuth(e,n)}},validateMobileCodeByLoginName:function(t,n){if(t){var i=r.trim(t.code);if(!i||0==i.length)return void(n&&n(CUserSDK.messageConfig.verifyCodeIsNullMsg));var o=r.trim(t.loginName);i&&0!=i.length||n&&n(CUserSDK.messageConfig.loginNameIsNullMsg),t.loginName=o,e.validateMobileCodeByLoginName(t,n)}}}}),define("mobileValidateModel",["baseModel","basebizUtilDom","basebizUtilDomain"],function(e,t,r){return{sendMessageCode:function(r,n){var i={};i.AccountHead={Token:r.safeToken,SliderVersion:r.sliderVersion,Platform:"P",Extension:{rmsToken:r.rmsToken}},i.Data={messageCode:r.sceneCode,countryCode:r.countryCode,mobilePhone:r.phoneNumber,extension:r.ext?r.ext:[]};var o;o="S200064"===r.sceneCode||"S200065"===r.sceneCode?CUserSDK.ApiUrlConfig.sendRealNameH5Url:this.getSendUrlFromBusinessSite(r.businessSite);var a={subSceneType:"sendMobileCode",messageCode:r.sceneCode,mobile:r.phoneNumber},s={appid:"",messageCode:r.sceneCode,"apiName:":o};t.metricCount("106352",s),e.sendgatewaydata(o,i,!0,function(e){n&&n(e)},function(e){n&&n(CUserSDK.messageConfig.gatewayRequestErrorMsg)},a)},sendMobileCodeByLoginName:function(t,r){var n={};n.AccountHead={Token:t.safeToken,SliderVersion:t.sliderVersion,Platform:"P",Extension:{rmsToken:t.rmsToken}},n.Data={sendSceneCode:t.sendSceneCode,loginName:t.loginName,loginNameType:t.loginNameType,group:t.group?t.group:"",locale:t.locale?t.locale:"",context:t.ext?t.ext:{}};e.sendgatewaydata(CUserSDK.ApiUrlConfig.sendMobileCodeByLoginNameUrl,n,!0,function(e){r&&r(e)},function(e){r&&r(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"sendMobileCode"})},validateMobileCode:function(r,n,i,o,a){var s={};s.Data={MobilePhoneNumber:r+"-"+n,VerifyCode:o,AppID:i};var c={appid:i,messageCode:i,"apiName:":CUserSDK.ApiUrlConfig.validateMobilePhoneUrl};t.metricCount("106352",c),e.sendgatewaydata(CUserSDK.ApiUrlConfig.validateMobilePhoneUrl,s,!0,function(e){a&&a(e)},function(e){a&&a(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"verifyMobileCode"})},checkPhoneCode:function(n,i){var o={};o.Data={countryCode:n.countryCode,mobilePhone:n.phoneNumber,code:n.verifyCode,messageCode:n.messageCode,extension:n.ext?n.ext:[]};var a={appid:n.messageCode,messageCode:n.messageCode,"apiName:":r.getAccountGateWayServiceUrl("checkphonecode")};t.metricCount("106352",a),e.sendgatewaydata(r.getAccountGateWayServiceUrl("checkphonecode"),o,!0,function(e){e&&303==e.returncode&&(e.returncode=304,e.returnCode=304),e&&e.token&&(e.Token=e.token),i&&i(e)},function(e){i&&i(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"checkPhoneCode"})},getUIDByMobileToken:function(n,i,o){var a={};a.Data={token:i};var s={appid:n,messageCode:n,"apiName:":r.getAccountGateWayServiceUrl("getuidbymobiletoken")};t.metricCount("106352",s),e.sendgatewaydata(r.getAccountGateWayServiceUrl("getuidbymobiletoken"),a,!0,function(e){o&&o(e)},function(e){o&&o(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"getUIDByMobileToken"})},validateMobileCodeByLoginName:function(t,r){var n={};n.Data={loginName:t.loginName,loginNameType:t.loginNameType,sendSceneCode:t.sceneCode,code:t.code};e.sendgatewaydata(CUserSDK.ApiUrlConfig.validateMobileCodeByLoginNameUrl,n,!0,function(e){r&&r(e)},function(e){r&&r(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"verifyMobileCode"})},getSendUrlFromBusinessSite:function(e){if(!e)return CUserSDK.ApiUrlConfig.sendMessageByPhoneUrl;switch(e){case CUserSDK.sdkconfig.businessSite.rebindMobileOnline:return CUserSDK.ApiUrlConfig.sendCodeWithRebindMobileOnlineUrl;case CUserSDK.sdkconfig.businessSite.sendMessageH5:return CUserSDK.ApiUrlConfig.sendMessageH5;case CUserSDK.sdkconfig.businessSite.h5resetpwd:return CUserSDK.ApiUrlConfig.sendResetpwSmsUrl;case CUserSDK.sdkconfig.businessSite.h5primesms:return CUserSDK.ApiUrlConfig.sendDynamicSmsUrl;default:return CUserSDK.ApiUrlConfig.sendMessageByPhoneUrl}}}}),define("realNameBiz",["realNameModel","mobileValidateBiz"],function(e,t){return{saveRealName:function(r,n,i,o){t.validateMobileCode(r,n,"10045",i,function(t){if(t&&0==t.returncode)e.addIdentityByToken(t.Token,o);else{var r={returncode:parseInt(CUserSDK.sdkconfig.errorCode+t.returncode),message:t.message};o&&o(r)}})},saveRealNameByMessageCode:function(r,n){var i={countryCode:r.countryCode,phoneNumber:r.mobile,messageCode:"S200065",verifyCode:r.verifyCode};r.ext&&r.ext.length>0&&(i.ext=r.ext),t.checkPhoneCode(i,function(t){if(t&&0==t.returncode)e.addIdentityByToken(t.token,n);else{var r={returncode:parseInt(CUserSDK.sdkconfig.errorCode+t.returncode),message:t.message};n&&n(r)}})},hasRealName:function(t){e.hasRealName(t)}}}),define("realNameModel",["baseModel","basebizUtilDomain"],function(e,t){return{addIdentityByToken:function(t,r){var n={};n.Data={token:t,idType:"mobilePhone"};e.sendgatewaydata(CUserSDK.ApiUrlConfig.addIdentityByTokenUrl,n,!0,function(e){r&&r(e)},function(e){r&&r(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"addIdentity",allowRecordRequest:"T"})},hasRealName:function(t){var r={Data:{uid:""}};e.sendgatewaydata(CUserSDK.ApiUrlConfig.isRealNameUrl,r,!0,function(e){t&&t(e)},function(e){t&&t(CUserSDK.messageConfig.gatewayRequestErrorMsg)},{subSceneType:"queryRealName",allowRecordRequest:"T"})}}}),define("basebizUtilDom",["basebizUtilMetric"],function(e){var t=document;return{getSilderResult:function(){var e={};return jQuery("#sliderResult")&&(e.token=jQuery("#sliderResult").attr("token"),e.version=jQuery("#sliderResult").attr("version"),e.state=jQuery("#sliderResult").attr("state")),e},showError:function(e,t,r){t?void 0!==r&&null!=r?(e.removeClass("base_success"),e.addClass("base_error"),e.css("display",""),e.html("<i></i>"+r)):(e.removeClass("base_success"),e.addClass("base_error"),e.css("display",""),e.html("<i></i> 请重试")):(e.css("display","none"),e.html("<i></i>"+r)),this.laydiv()},showTips:function(e,t,r){t?(e.removeClass("base_error"),e.addClass("base_success"),e.css("display",""),e.html("<i></i>"+r)):(e.css("display","none"),e.html("<i></i>"+r)),this.laydiv()},showLoading:function(){var e=jQuery("#lg_loginbox").height();t.getElementById("tostalloading").style.height=e-40+"px","mask"===CLogin.scene&&(t.getElementById("tostalloading").style.top="50%"),jQuery("#tostalloading").show()},hideLoading:function(){jQuery("#tostalloading").hide()},laydiv:function(){if("mask"!==CLogin.scene){var e=jQuery(".lg_loginbox").outerHeight(!0),t=(jQuery(".lg_loginwrap").outerHeight(!0)-e)/2;jQuery(".lg_loginbox").css({"margin-top":t})}},ShowView:function(e){for(var t=jQuery(".form_wrap"),r=0;r<t.length;r++)t[r].id===e?jQuery("#"+t[r].id).show():jQuery("#"+t[r].id).hide();this.laydiv(),this.getOperationVersion()<=9&&jQuery("input[placeholder]").placeholder()},getOperationVersion:function(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,r=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t;if(e.indexOf("Windows NT 6.1; Trident/7.0;"),r){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var n=parseFloat(RegExp.$1);return 7==n?n:8==n?n:9==n?n:10==n?n:11==n?n:"0"}return"100"},metricCount:function(e,t){try{void 0===window.__bfi&&(window.__bfi=[]),t&&(t.secretKey=CLogin.Secretkey),__bfi.push(["_trackMetric",{name:e,value:1,tag:t}])}catch(e){}},ubtPV:function(t){try{t.siteGroup="ctrip",t.locale="zh_cn",t.ubtType="pv",window&&window.CLogin&&window.CLogin.Secretkey&&(t.secretKey=window.CLogin.Secretkey),window&&window.platform&&window.CLogin.platform&&(t.platform=window.CLogin.platform),e().trace("106060",t)}catch(e){}},ubtLoginSDKPV:function(e,t){var r={platform:"PC",operation:"pv",message:"Online登录蒙版",sceneType:"login",subSceneType:e,view:e,thirdType:t||""};this.ubtPV(r)}}}),define("basebizUtilMetric",[],function(){var e={log:function(){}};try{require(["https://webresource.c-ctrip.com/ares2/basebiz/cusersdk_accountubt/~1.0.2/default/AccountUbtSDK.js"],function(t){e=new t})}catch(e){}return function(){return e}});